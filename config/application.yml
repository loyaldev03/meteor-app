defaults: &defaults
  cc_encryption_key: reibel3y5estrada8
  max_reactivations: 3
  next_retry_on_missing_decline: 20.days
  number_of_retries_on_missing_decline: 4
  club_cash_for_members_who_belongs_to_group: 200
  call_these_members_recipients: platformadmins@xagax.com
  lyris_service:
    domain: 'www.elabs10.com'
    url: '/API/mailing_list.html'
    password: 'ARcor86'
  mes_report_service:
    user: Stoneacrereports
    password: Letmein123
    url: https://www.merchante-solutions.com/
    path: /jsp/reports/report_api.jsp
  mes_aus_service:
    folder: "#{Rails.root}/mes_account_updater_files"
    url: https://www.merchante-solutions.com/
    # AUS username is diff accross titles. We will use the same to speed up development
    merchant_id: 
    user: 
    password: 
  operation_types: 
    #billing
    enrollment_billing: 100     
    membership_billing: 101   
    full_save: 102      
    change_next_bill_date: 103    
    credit: 104
    membership_billing_without_decline_strategy: 105
    membership_billing_hard_decline: 106
    membership_billing_soft_decline: 107
    credit_error: 108
    membership_billing_without_pgc: 109
    chargeback: 110
    error_on_enrollment_billing: 111
    #profile
    cancel: 200 
    future_cancel: 201
    save_the_sale: 202
    recovery: 203
    resend_fulfillment: 204
    recovery_needs_approval: 205
    enrollment_needs_approval: 206
    blacklisted: 207
    fulfillment_mannualy_mark_as_sent: 208
    add_club_cash: 209
    deducted_club_cash: 210
    reset_club_cash: 211
    credit_card_already_in_use: 401
    credit_card_blacklisted: 402
    member_email_blacklisted: 403
    automatic_recycle_credit_card: 404
    #communication
    active_email: 300     
    prebill_email: 301    
    cancellation_email: 302 
    refund_email: 303 
    #other
    others: 1000
  error_codes:
    success: '000'
    not_found: '401'
    member_data_invalid: '405'
    prospect_data_invalid: '403'
    member_not_saved: '404'
    blacklisted: '406'
    cant_recover_member: '407'
    duplicate_transaction: '900'
    not_supported: '902'
    invalid_credit_card: '9506'
    credit_card_in_use: '9507'
    credit_card_blacklisted: '9508'
    credit_card_blank: '9509'
    refund_invalid: '9788'
    nothing_to_change_tom: '9885'
    member_status_dont_allow: '9886'
    no_amount: '9887'    
    member_already_set_wrong_address: '9888'
    member_set_wrong_address_error: '9889'
    credit_card_blank_with_grace: '9999'
    credit_card_blank_without_grace: '9997'
    member_email_blacklisted: '9996'
    tom_wihtout_gateway_configured: '9789'
    club_cash_transaction_not_successful: '9791'
    fulfillment_error: '9801'
    fulfillment_out_of_stock: '9802'
  fulfillment_products:
    all: All
    kit_card: Kit - Card
    sloop: Sloop
  wrong_address:
    undeliverable_all: 'All'
    undeliverable_sloop: 'Sloop'
    undeliverable_kit_card: 'Kit - Card'
  wrong_phone_number:
      unreachable: 'Unreachable'
      wrong_phone_number: 'Wrong phone'
  validations:
    supported_countries:
    - ca
    - us
    defaults:
      email:
        presence: true
        uniqueness:
          :scope: :club_id
        format: !ruby/regexp /^([0-9a-zA-Z\-_]([-_\.]?[+?]?[0-9a-zA-Z\-_])*@([0-9a-zA-Z]+[-_\.]?[0-9a-zA-Z]*\.)+[a-zA-Z]{2,9})$/
      club_id:
        presence: true
      gender:
        presence: true
      terms_of_membership_id:
        presence: true
      type_of_phone_number:
        presence: true
        inclusion:
          :within:  # this needs to be a Symbol
          - Home 
          - Mobile
          - Other
          :allow_nil: true
      phone_country_code:
        presence: true
        numericality: 
          :only_integer: true
        length:
          :minimum: 1
          :maximum: 4
      phone_area_code:
        presence: true
        numericality: 
          :only_integer: true
        length: 
          :minimum: 1
          :maximum: 8
      phone_local_number:
        presence: true
        numericality: 
          :only_integer: true
        length: 
          :minimum: 1
          :maximum: 8
    sets:
      western:
        first_name:
          presence: true
          format: !ruby/regexp /^[a-zA-Z0-9àáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð '-.,]+$/
          # format: !ruby/regexp /^[a-zA-Z0-9àáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð '-.,]+$/u
        last_name:
          presence: true
          format: !ruby/regexp /^[a-zA-Z0-9àáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð '-.,]+$/
        address:
          format: !ruby/regexp /^[A-Za-z0-9àáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð '-.,#]+$/
        state:
          presence: true
          format: !ruby/regexp /^[A-Za-z0-9àáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð '-.,]+$/
        city:
          presence: true
          format: !ruby/regexp /^[A-Za-z0-9àáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð '-.,]+$/
    countries:
#     "US"=>"^\d{5}([\-]?\d{4})?$",
#     "UK"=>"^(GIR|[A-Z]\d[A-Z\d]??|[A-Z]{2}\d[A-Z\d]??)[ ]??(\d[A-Z]{2})$",
#     "DE"=>"\b((?:0[1-46-9]\d{3})|(?:[1-357-9]\d{4})|(?:[4][0-24-9]\d{3})|(?:[6][013-9]\d{3}))\b",
#     "CA"=>"^([ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ])\ {0,1}(\d[ABCEGHJKLMNPRSTVWXYZ]\d)$",
#     "FR"=>"^(F-)?((2[A|B])|[0-9]{2})[0-9]{3}$",
#     "IT"=>"^(V-|I-)?[0-9]{5}$",
#     "AU"=>"^(0[289][0-9]{2})|([1345689][0-9]{3})|(2[0-8][0-9]{2})|(290[0-9])|(291[0-4])|(7[0-4][0-9]{2})|(7[8-9][0-9]{2})$",
#     "NL"=>"^[1-9][0-9]{3}\s?([a-zA-Z]{2})?$",
#     "ES"=>"^([1-9]{2}|[0-9][1-9]|[1-9][0-9])[0-9]{3}$",
#     "DK"=>"^([D-d][K-k])?( |-)?[1-9]{1}[0-9]{3}$",
#     "SE"=>"^(s-|S-){0,1}[0-9]{3}\s?[0-9]{2}$",
      us:
        sets:
        - western
        zip:
          presence: true
          format: 
            :with: !ruby/regexp /^\d{5}([\-]?\d{4})?$/
            :message: 'The zip code is not valid for the selected country.'
      ca:
        sets:
        - western
        zip:
          presence: true
          format: 
            :with: !ruby/regexp /^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}[0-9]{1}[A-Za-z]{1}[\s]{1}[0-9]{1}[A-Za-z][0-9]{1}$/
            :message: 'The zip code is not valid for the selected country.'

development:
  <<: *defaults

test:
  <<: *defaults

production:
  <<: *defaults
  call_these_members_recipients: 'jelwood@stoneacreinc.com,jsmith@stoneacreinc.com'
  mes_report_service:
    user: Stoneacrereports
    password: Letmein123
    url: https://www.merchante-solutions.com/
    path: /jsp/reports/report_api.jsp
  mes_aus_service:
    folder: "#{Rails.root}/mes_account_updater_files"
    url: https://www.merchante-solutions.com/
    # AUS username is diff accross titles. We will use the same to speed up development
    user: '941000110028AUS'
    password: do3!lAjo5
    merchant_id: '941000110028'

prototype:
  <<: *defaults

staging:
  <<: *defaults


