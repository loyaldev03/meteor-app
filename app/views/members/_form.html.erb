<table class="table table-condensed"> 
  <% if !@member.new_record? %>
  <tr class="control-group"> 
    <td colspan="4">
    <%= t('activerecord.attributes.member.member_classification_type') %>:
    <% if !@member_group_types.nil? %>
      <%= f.select :member_group_type_id, 
                  options_from_collection_for_select(@member_group_types, "id","name", 
                  {:selected => @member.member_group_type_id }), :include_blank => '' %>
    <% else %>
      <%= t('activerecord.attributes.member.does_not_have_member_groups')  %>
    <% end %>
    </td>
  </tr> 
  <% end %>
  
<table id="table_demographic_information" class="table table-bordered table-condensed table-nohover">
  <thead>
    <tr class="box_title"><th colspan="2"><h4>Demographic information</h4></th></tr>
  </thead>
  <tbody>
  <tr>
    <td style="width: 50%;">
      <table class="hidden_table_border table-nohover">
        <tr class = "control-group">
          <th>
            <%= f.label :first_name, t('activerecord.attributes.member.first_name'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :first_name, :class => 'text_field' %> 
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :gender, t('activerecord.attributes.member.gender'), :class => 'help-inline' %>
          </th>
          <td> 
            <% selected = @current_member ? @current_member.gender : nil%>
            <%= f.select :gender, [['Male', 'M'],['Female', 'F'],], :class => 'select_field' %>
          </td>  
        </tr>        
        <tr class = "control-group">
          <th>
            <%= f.label :address, t('activerecord.attributes.member.address'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :address, :class => 'text_field' %> 
            <% if !@member.new_record? && !@member.wrong_address.nil? %>
              <%= t('activerecord.attributes.member.unset_wrong_address') %>
              <%= check_box :setter, :wrong_address %>
            <% end %>
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :state, t('activerecord.attributes.member.state'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :state, :class => 'text_field' %> 
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :country, t('activerecord.attributes.member.country'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.country_code_select(:country, [[ 'United States', 'US' ], ['Canada', 'CA']]) %> 
          </td>  
        </tr>
      </table>
    </td>
    <td style="width: 50%;">
      <table class="hidden_table_border">
        <tr class = "control-group">
          <th>
            <%= f.label :last_name, t('activerecord.attributes.member.last_name'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :last_name, :class => 'text_field' %> 
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :city, t('activerecord.attributes.member.city'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :city, :class => 'text_field' %> 
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :zip, t('activerecord.attributes.member.zip'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :zip, :class => 'text_field' %>       
            <%= render :partial => "shared/help", :locals => { :title => t('example'), :content => t('activerecord.attributes.member.zip_help')} %> 
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :birth_date, t('activerecord.attributes.member.birth_date'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :birth_date, :class => 'datepicker', :readonly => 'readonly' %> 
          </td>  
        </tr>
      </table>
    </td>
  </tr>
  </tbody>
</table>

<table id="table_contact_information" class="table table-bordered table-condensed table-nohover">
  <thead>
    <tr class="box_title"><th colspan="2"><h4>Contact Information</h4></th></tr>
  </thead>
  <tbody>
  <tr>
    <td style="width: 50%;">
      <table class="hidden_table_border">
        <tr class = "control-group">
          <th>
            <%= f.label :phone_number, t('activerecord.attributes.member.phone_number'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :phone_country_code, :class => 'text_field input-mini' %> 
            <%= f.text_field :phone_area_code, :class => 'text_field input-mini' %> 
            <%= f.text_field :phone_local_number, :class => 'text_field input-mini' %> 
            <% if !@member.new_record? && !@member.wrong_phone_number.nil? %>
              <%= t('activerecord.attributes.member.unset_wrong_phone_number') %>
              <%= check_box :setter, :wrong_phone_number %>
            <% end %>
          </td>  
        </tr>
        <tr class = "control-group">
          <th>
            <%= f.label :type_of_phone_number, t('activerecord.attributes.member.type_of_phone_number'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.select :type_of_phone_number, [['Mobile', 'Mobile'],['Home', 'Home'],['Other','Other']], :class => 'select_field' %>
          </td>  
        </tr>
        <% if @member.new_record? %>
        <tr class = "control-group">
          <th>
            <%= f.label :terms_of_membership_id, t('activerecord.attributes.member.terms_of_membership_id'), :class => 'help-inline' %>
          </th>
          <% if @member.new_record? %>
          <td> 
            <%= f.select(:terms_of_membership_id, options_from_collection_for_select(@terms_of_memberships, "id", "name")) %>
          </td>  
          <% end %>
        </tr>
        <% end %>
        <tr>
      </table>
    </td>
    <td style="width: 50%;">
      <table class="hidden_table_border">
        <tr class = "control-group">
          <th>
            <%= f.label :email, t('activerecord.attributes.member.email'), :class => 'help-inline' %>
          </th>
          <td> 
            <%= f.text_field :email, :class => 'text_field'%>
          </td>  
        </tr>
      </table>
    </td>
  </tr>
  </tbody>
</table>

<% if @member.new_record? %>
<table class="table table-bordered table-condensed table-nohover">
  <thead>
    <tr class="box_title">
      <th colspan="2"><h4>Credit Card</h4>
        <%= f.label :allow_cc_blank,t('Allow blank credit card?'), :class => 'help-inline' %>
        <%= check_box :setter, :cc_blank %>
      </th>
    </tr>
  </thead>
  <tbody>
  <%= f.fields_for :credit_card do |credit_Card| %>
    <tr>
      <td style="width: 50%;">
        <table class="hidden_table_border">
          <tr class = "control-group">
            <th>
              <%= credit_Card.label :encrypted_number, t('activerecord.attributes.credit_card.number'), :class => 'help-inline' %>
            </th>
            <td> 
              <%= credit_Card.text_field :number, :class => 'text_field input-medium', 
                                      :name => "member[credit_card][number]"%>
            </td>  
          </tr>
        </table>
      </td>
      <td style="width: 50%;">
        <table class="hidden_table_border">
          <tr class = "control-group">
            <th>
              <%= credit_Card.label :expire_month, t('activerecord.attributes.credit_card.expire_month'), :class => 'help-inline' %> 
            </th>
            <td> 
              <%=credit_Card.text_field :expire_month, :class => 'text_field input-medium',
                                  :name => "member[credit_card][expire_month]" %>
            </td>  
          </tr>
          <tr class = "control-group">
            <th>
              <%= credit_Card.label :expire_year, t('activerecord.attributes.credit_card.expire_year'), :class => 'help-inline' %>
            </th>
            <td> 
              <%= credit_Card.text_field :expire_year, :class => 'text_field input-small',
                                   :name => "member[credit_card][expire_year]" %>
            </td>  
          </tr>
        </table>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
<% end %>

 <tr class="control-group">
    <th colspan="4"> <%= f.submit nil, :class => 'btn btn-primary', :id => 'submit_button' %>
      <% if @member.new_record? %>
        <%= link_to t(:cancel), :back, :class => 'btn' %>  
      <% else %>
        <%= link_to t('buttons.return_to_member_show'), show_member_path, :class => 'btn' %> 
      <% end %>
    </th>
  </tr>
</table>

<% if @member.new_record? %>
  <%= f.hidden_field :enrollment_amount, :value => 0.0 %>
<% end %>

<div id="error_explanation">
  <h2> Errors </h2>
  <ul>
  </ul>
</div>



